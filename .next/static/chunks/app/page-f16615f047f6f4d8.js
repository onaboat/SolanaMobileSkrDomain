(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5591:function(e,a,t){Promise.resolve().then(t.bind(t,2480))},2480:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return j}});var s=t(7437),n=t(2265);let i=[{value:"7d",label:"Weekly Overview"},{value:"30d",label:"Monthly Trends"},{value:"90d",label:"Quarterly Analysis"},{value:"all",label:"All Time"}];function r(e){let{selectedRange:a,onRangeChange:t}=e;return(0,s.jsx)("div",{className:"filter-presets",children:(0,s.jsx)("div",{className:"filter-buttons",children:i.map(e=>(0,s.jsx)("button",{onClick:()=>t(e.value),className:"filter-button ".concat(a===e.value?"active":""),children:e.label},e.value))})})}var c=t(5253),o=t(3952),l=t(6573),d=t(4235),m=t(39),u=t(6812),h=t(9223);function g(e){let{domains:a,timeRange:t}=e,i=(0,n.useMemo)(()=>{let e=Object.entries(a.reduce((e,a)=>{let t=new Date(a.timestamp).toISOString().split("T")[0];return e[t]=(e[t]||0)+1,e},{})).map(e=>{let[a,t]=e;return{date:a,registrations:t,cumulative:0}}).sort((e,a)=>e.date.localeCompare(a.date)),t=0;return e.forEach(e=>{t+=e.registrations,e.cumulative=t}),e},[a]),r=(0,n.useMemo)(()=>({backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"6px",color:"#00ff00"}),[]);return(0,s.jsxs)("div",{className:"growth-chart",children:[(0,s.jsx)("h3",{className:"chart-title",children:"Domain Registration Growth"}),(0,s.jsx)(c.h,{width:"100%",height:300,children:(0,s.jsxs)(o.w,{data:i,children:[(0,s.jsx)(l.q,{strokeDasharray:"3 3",stroke:"#333"}),(0,s.jsx)(d.K,{dataKey:"date",tick:{fill:"#00ff00",fontSize:12},axisLine:{stroke:"#333"}}),(0,s.jsx)(m.B,{tick:{fill:"#00ff00",fontSize:12},axisLine:{stroke:"#333"}}),(0,s.jsx)(u.u,{contentStyle:r}),(0,s.jsx)(h.x,{dataKey:"registrations",stroke:"#00ff00",strokeWidth:2,dot:{fill:"#00ff00",strokeWidth:2,r:4}}),(0,s.jsx)(h.x,{dataKey:"cumulative",stroke:"#00aa00",strokeWidth:2,dot:{fill:"#00aa00",strokeWidth:2,r:4}})]})})]})}function x(e){let{domains:a,timeRange:t}=e,i=(0,n.useMemo)(()=>Object.entries(a.reduce((e,a)=>{let t;let s=new Date(a.timestamp).getUTCHours();return e[t=s>=0&&s<6?"Asia-Pacific":s>=6&&s<12?"Europe":s>=12&&s<18?"Americas":"Other"]=(e[t]||0)+1,e},{})).map(e=>{let[a,t]=e;return{region:a,count:t}}).sort((e,a)=>a.count-e.count),[a]);return(0,s.jsxs)("div",{className:"regional-cards",children:[(0,s.jsxs)("h3",{className:"chart-title",children:["Regional Activity ",(0,s.jsx)("span",{className:"explanation-text",children:"calculated based on the UTC timestamp of domain registrations"})]}),(0,s.jsx)("div",{className:"cards-grid",children:i.map(e=>(0,s.jsxs)("div",{className:"regional-card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("h4",{className:"region-name",children:e.region})}),(0,s.jsx)("div",{className:"card-content",children:(0,s.jsxs)("div",{className:"count",children:[e.count.toLocaleString()," domains"]})})]},e.region))})]})}let C=(e,a)=>{let t=new Date;return e.filter(e=>{let s=new Date(e.timestamp);switch(a){case"7d":return t.getTime()-s.getTime()<=6048e5;case"30d":return t.getTime()-s.getTime()<=2592e6;case"90d":return t.getTime()-s.getTime()<=7776e6;case"all":return!0}})};function j(){let[e,a]=(0,n.useState)([]),[t,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)({totalProcessed:0,domainsFound:0,isConnected:!1}),[l,d]=(0,n.useState)([]),[m,u]=(0,n.useState)(""),[h,j]=(0,n.useState)(""),[p,H]=(0,n.useState)(!1),[f,v]=(0,n.useState)("7d"),w=(0,n.useRef)(null),N=(0,n.useRef)(null),L=(0,n.useRef)(!1),V=(0,n.useMemo)(()=>C(e,f),[e,f]),S=(0,n.useMemo)(()=>V.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())),[V,m]);return(0,n.useEffect)(()=>{if(L.current)return;L.current=!0;let e=()=>{j(new Date().toLocaleTimeString())};e(),N.current=setInterval(e,1e3),(async()=>{try{let e=await fetch("/api/domains"),t=await e.json();a(t.domains||[])}catch(e){console.error("Failed to load domains:",e)}})();let t=new EventSource("/api/websocket");return w.current=t,t.onmessage=e=>{try{let t=JSON.parse(e.data);"newDomain"===t.type?(console.log("Received new domain:",t.domain.name),a(e=>e.some(e=>e.signature===t.domain.signature)?(console.log("Domain already exists, skipping:",t.domain.name),e):(console.log("Adding new domain:",t.domain.name),[t.domain,...e])),C([t.domain],f).length>0&&d(e=>e.some(e=>e.signature===t.domain.signature)?e:[t.domain,...e.slice(0,9)]),setTimeout(()=>{let e=document.querySelector('[data-signature="'.concat(t.domain.signature,'"]'));e&&(e.classList.add("flash-animation"),setTimeout(()=>{e.classList.remove("flash-animation")},2500))},100),H(!0),setTimeout(()=>H(!1),2500),setTimeout(()=>{d(e=>e.filter(e=>e.signature!==t.domain.signature))},5e4)):"stats"===t.type&&o(t.stats)}catch(e){console.error("Error parsing SSE data:",e)}},t.onerror=e=>{console.error("SSE connection error:",e),o(e=>({...e,isConnected:!1}))},(async()=>{try{let e=await fetch("/api/websocket?action=start");(await e.json()).success&&(i(!0),o(e=>({...e,isConnected:!0})))}catch(e){console.error("Failed to start watcher:",e)}})(),()=>{N.current&&clearInterval(N.current),w.current&&w.current.close(),fetch("/api/websocket?action=stop").catch(console.error)}},[]),(0,s.jsxs)("div",{className:"domains-page",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)("div",{className:"logo-section",children:(0,s.jsxs)("span",{className:"flex items-center gap-3 md:gap-6",children:[(0,s.jsxs)("svg",{width:"108",height:"18",viewBox:"0 0 108 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M37.2422 0.951172H40.4613V14.2839H48.6236V17.1739H37.2422V0.951172Z"}),(0,s.jsx)("path",{d:"M57.2898 0.951172H63.0684L68.4676 17.1739H65.1466L63.8034 13.143H56.4781L55.1349 17.1739H51.8906L57.2898 0.951172ZM62.8662 10.3562L60.7879 4.12012H59.4699L57.3916 10.3562H62.8662Z"}),(0,s.jsx)("path",{d:"M72.3867 0.951172H77.9128L83.743 13.5991H84.1489V0.951172H87.3179V17.1739H81.7917L75.9364 4.526H75.5557V17.1739H72.3867V0.951172Z"}),(0,s.jsx)("path",{d:"M96.618 0.950928H102.397L107.796 17.1736H104.475L103.132 13.1427H95.8062L94.463 17.1736H91.2188L96.618 0.950928ZM102.194 10.3559L100.116 4.11987H98.798L96.7198 10.3559H102.194Z"}),(0,s.jsx)("path",{d:"M0.00139478 12.1803H3.29587C3.47301 13.6002 4.21084 14.6644 6.78143 14.6644H7.19986C9.6491 14.6644 10.3298 13.8024 10.3298 12.6364C10.3298 11.5722 9.48033 10.812 8.28918 10.6851L4.84129 10.1648C1.39757 9.6934 0.430987 7.46873 0.430987 5.47558C0.430987 2.30664 2.46458 0.571533 6.66705 0.571533C10.8695 0.571533 12.8766 2.3708 13.0287 5.91912H9.75928C9.53472 4.42671 8.94892 3.46012 6.67961 3.46012H6.40065C4.38659 3.46012 3.46045 4.19518 3.46045 5.38632C3.46045 6.57746 4.34753 7.2874 5.46336 7.41433L9.04934 7.93458C12.2964 8.33767 13.3843 10.2946 13.3843 12.5987C13.3843 15.7928 11.6102 17.5544 6.71727 17.5544C2.25536 17.5544 0.076713 15.73 0 12.1803H0.00139478Z"}),(0,s.jsx)("path",{d:"M18.7972 2.84224C20.2869 1.32053 22.2981 0.571533 24.852 0.571533C27.4058 0.571533 29.4171 1.34285 30.883 2.86455C32.3726 4.38626 33.1063 6.45193 33.1063 9.08528C33.1063 11.7186 32.3726 13.7857 30.9067 15.306C29.4408 16.804 27.4295 17.5544 24.852 17.5544C22.2744 17.5544 20.2631 16.8054 18.7972 15.306C17.3313 13.7843 16.5977 11.7186 16.5977 9.08528C16.5977 6.45193 17.3313 4.36255 18.7972 2.84224ZM20.0721 10.1718C20.0721 13.02 21.9522 14.6728 24.8506 14.6728C27.7489 14.6728 29.6068 12.9335 29.6068 10.1718V7.93179C29.6068 5.08365 27.7489 3.45315 24.8506 3.45315C21.9522 3.45315 20.0721 5.21476 20.0721 7.93179V10.1718Z"})]}),(0,s.jsxs)("svg",{width:"29",height:"24",viewBox:"0 0 29 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M1.00191 24C0.59453 24 0.383573 23.4555 0.667283 23.1318L5.14844 18.2833C5.33031 18.092 5.56309 17.9963 5.81043 17.9963H28.5363C28.9437 17.9963 29.1547 18.5408 28.8709 18.8645L24.3898 23.7131C24.2079 23.9044 23.9751 24 23.7278 24H1.00191Z"}),(0,s.jsx)("path",{d:"M1.00191 6.00368C0.59453 6.00368 0.383573 5.45923 0.667283 5.1355L5.14844 0.286941C5.33031 0.0956468 5.56309 0 5.81043 0H28.5363C28.9437 0 29.1547 0.544451 28.8709 0.868179L24.3898 5.71674C24.2079 5.90803 23.9751 6.00368 23.7278 6.00368H1.00191Z"}),(0,s.jsx)("path",{d:"M23.706 8.94666C23.9606 8.94666 24.1861 9.04231 24.368 9.2336L28.8709 14.0822C29.1547 14.4132 28.9364 14.9503 28.529 14.9503H5.72313C5.46852 14.9503 5.24301 14.8547 5.06114 14.6634L0.558157 9.81484C0.274447 9.48375 0.492686 8.94666 0.900064 8.94666H23.706Z"})]}),(0,s.jsxs)("svg",{width:"101",height:"18",viewBox:"0 0 101 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M59.2852 14.3348H62.4792V3.79028H59.2852V0.951904H68.8924V3.79028H65.6733V14.3348H68.8924V17.1732H59.2852V14.3348Z"}),(0,s.jsx)("path",{d:"M73.5117 0.951172H76.7309V14.2839H84.8931V17.1739H73.5117V0.951172Z"}),(0,s.jsx)("path",{d:"M88.9922 0.951172H100.88V3.68913H92.1862V7.51641H100.247V10.2028H92.1862V14.4359H101.007V17.1739H88.9922V0.951172Z"}),(0,s.jsx)("path",{d:"M12.2484 0.951172L9.38356 13.3968H9.17434H8.96652L6.10164 0.951172H0.144531V17.1739H3.31207L3.15865 4.50089H3.89788L6.81298 17.1739H9.17434H11.5371L14.4522 4.50089H15.1914L15.038 17.1739H18.2056V0.951172H12.2484Z"}),(0,s.jsx)("path",{d:"M52.6604 8.4537V8.35328C54.1807 7.69355 54.9409 6.42569 54.9409 4.93048C54.9409 2.59841 53.2183 0.951172 50.0243 0.951172H42.5469V17.1739H50.4037C53.8767 17.1739 55.6508 15.0692 55.6508 12.5097C55.6508 10.5584 54.5615 9.13854 52.6604 8.4537ZM45.7409 3.48549H50.1596C51.0509 3.48549 51.7733 4.20799 51.7733 5.09925V5.85243C51.7733 6.7437 51.0509 7.4648 50.1596 7.4648H45.7409V3.48549ZM52.4568 12.8724C52.4568 13.8641 51.6534 14.6688 50.6617 14.6688H45.7409V9.9238H50.6617C51.6534 9.9238 52.4568 10.7286 52.4568 11.7203V12.8724Z"}),(0,s.jsx)("path",{d:"M24.1019 2.84224C25.5915 1.32053 27.6028 0.571533 30.1567 0.571533C32.7105 0.571533 34.7218 1.34285 36.1877 2.86455C37.6773 4.38626 38.411 6.45193 38.411 9.08528C38.411 11.7186 37.6773 13.7857 36.2114 15.306C34.7455 16.804 32.7342 17.5544 30.1567 17.5544C27.5791 17.5544 25.5678 16.8054 24.1019 15.306C22.636 13.7843 21.9023 11.7186 21.9023 9.08528C21.9023 6.45193 22.636 4.36255 24.1019 2.84224ZM25.3781 10.1718C25.3781 13.02 27.2583 14.6728 30.1567 14.6728C33.055 14.6728 34.9129 12.9335 34.9129 10.1718V7.93179C34.9129 5.08365 33.055 3.45315 30.1567 3.45315C27.2583 3.45315 25.3781 5.21476 25.3781 7.93179V10.1718Z"})]})]})}),(0,s.jsxs)("div",{className:"header-status",children:[(0,s.jsx)("span",{children:"SYSTEM STATUS: OPERATIONAL"}),(0,s.jsxs)("span",{children:["LAST UPDATE: ",h]}),(0,s.jsx)("span",{children:"VERSION: 2.1.0"}),(0,s.jsx)("span",{className:"status-indicator ".concat(c.isConnected?"connected":"disconnected"," ").concat(p?"flash-animation":""),children:c.isConnected?"●":"○"}),(0,s.jsx)("span",{className:p?"flash-animation":"",children:c.isConnected?"CONNECTED":"DISCONNECTED"})]})]})}),(0,s.jsx)(r,{selectedRange:f,onRangeChange:v}),(0,s.jsxs)("div",{className:"filter-status",children:["Showing ",V.length," domains from ","7d"===f?"last 7 days":"30d"===f?"last 30 days":"90d"===f?"last 90 days":"all time"]}),(0,s.jsxs)("div",{className:"charts-container",children:[(0,s.jsx)(g,{domains:V,timeRange:f}),(0,s.jsx)(x,{domains:V,timeRange:f})]}),(0,s.jsxs)("div",{className:"search-container",children:[(0,s.jsx)("div",{className:"search-input-wrapper",children:(0,s.jsx)("input",{type:"text",className:"search-input",placeholder:"Search domain names...",value:m,onChange:e=>u(e.target.value)})}),m&&(0,s.jsxs)("div",{className:"search-results",children:["Found ",S.length," of ",V.length," domains"]})]}),S.length>0&&(0,s.jsx)("div",{className:"domain-list-container",children:(0,s.jsx)("div",{className:"domain-grid",children:S.map((e,a)=>(0,s.jsxs)("a",{href:e.owner?"https://solscan.io/account/".concat(e.owner):"https://solscan.io/tx/".concat(e.signature),target:"_blank",rel:"noopener noreferrer",className:"domain-card ".concat(l.some(a=>a.signature===e.signature)?"new":""),"data-signature":e.signature,children:[(0,s.jsx)("div",{className:"domain-name",children:e.name}),(0,s.jsx)("div",{className:"domain-meta",children:e.blockTime?new Date(1e3*e.blockTime).toLocaleString():new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("div",{className:"domain-signature",children:e.owner?"".concat(e.owner.slice(0,8),"...").concat(e.owner.slice(-8)):"".concat(e.signature.slice(0,8),"...").concat(e.signature.slice(-8))}),l.some(a=>a.signature===e.signature)&&(0,s.jsx)("div",{className:"new-badge",children:"NEW"})]},e.signature))})})]})}}},function(e){e.O(0,[155,971,938,744],function(){return e(e.s=5591)}),_N_E=e.O()}]);